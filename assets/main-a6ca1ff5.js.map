{"version":3,"file":"main-a6ca1ff5.js","sources":["../../src/js/cat-api.js","../../src/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers['x-api-key'] =\n  'live_zVZLegicNQX58NrRr2a3UtQNLaAsu3u4YQWqDV3kak42qEhEeaTlUPvgEQMUxgbd';\n\nasync function fetchBreeds() {\n  const { data } = await axios.get('https://api.thecatapi.com/v1/breeds');\n  return data;\n}\n\nasync function fetchBreed(breed) {\n  const { data } = await axios.get(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breed}`\n  );\n  return data;\n}\n\nexport { fetchBreeds, fetchBreed };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchBreed } from './js/cat-api';\n\nconst selectBreedRef = document.querySelector('#breeds');\nconst breedContainerRef = document.querySelector('.card');\nconst loaderRef = document.querySelector('.loader');\n\nconst options = [];\nconst data = fetchBreeds();\n\ndata\n  .then(result => {\n    result.forEach(breed => {\n      const breedOption = document.createElement('option');\n      breedOption.value = breed.id;\n      breedOption.textContent = breed.name;\n      options.push(breedOption);\n    });\n\n    selectBreedRef.append(...options);\n\n    loaderRef.classList.add('hidden');\n    selectBreedRef.classList.remove('hidden');\n  })\n  .catch(e => {\n    iziToast.error({\n      title: 'Error',\n      message: 'Bad operation',\n    });\n    breedContainerRef.innerHTML = `<h1 class=\"error-title\">Sorry, but server dosent work, reload page</h1>`;\n    breedContainerRef.classList.remove('hidden');\n    loaderRef.classList.add('hidden');\n  });\n\nselectBreedRef.addEventListener('change', e => {\n  breedContainerRef.innerHTML = `<div class=\"image-container\">\n  <span class=\"loader\"></span>\n  </div>\n  `;\n  breedContainerRef.classList.remove('hidden');\n  const breedDetails = fetchBreed(e.target.value);\n\n  breedDetails\n    .then(result => {\n      if (result == []) {\n        throw error;\n      }\n      breedContainerRef.innerHTML = `<div class=\"image-container\">\n            <img src=\"${result[0].url}\" alt=\"picture of ${result[0].breeds[0].name}\">\n        </div>\n        <h2 class=\"title\">${result[0].breeds[0].name}</h2>\n        <p class=\"description\">${result[0].breeds[0].description}</p>`;\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Illegal operation',\n      });\n      breedContainerRef.innerHTML = `<h1 class=\"error-title\">Sorry, but server dosent work, reload page</h1>`;\n      breedContainerRef.classList.remove('hidden');\n      loaderRef.classList.add('hidden');\n    });\n});\n"],"names":["axios","fetchBreeds","data","fetchBreed","breed","selectBreedRef","breedContainerRef","loaderRef","options","result","breedOption","e","iziToast","error"],"mappings":"svBAEAA,EAAM,SAAS,QAAQ,WAAW,EAChC,wEAEF,eAAeC,GAAc,CAC3B,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMF,EAAM,IAAI,qCAAqC,EACtE,OAAOE,CACT,CAEA,eAAeC,EAAWC,EAAO,CAC/B,KAAM,CAAE,KAAAF,CAAI,EAAK,MAAMF,EAAM,IAC3B,wDAAwDI,CAAK,EACjE,EACE,OAAOF,CACT,CCXA,MAAMG,EAAiB,SAAS,cAAc,SAAS,EACjDC,EAAoB,SAAS,cAAc,OAAO,EAClDC,EAAY,SAAS,cAAc,SAAS,EAE5CC,EAAU,CAAA,EACVN,EAAOD,EAAW,EAExBC,EACG,KAAKO,GAAU,CACdA,EAAO,QAAQL,GAAS,CACtB,MAAMM,EAAc,SAAS,cAAc,QAAQ,EACnDA,EAAY,MAAQN,EAAM,GAC1BM,EAAY,YAAcN,EAAM,KAChCI,EAAQ,KAAKE,CAAW,CAC9B,CAAK,EAEDL,EAAe,OAAO,GAAGG,CAAO,EAEhCD,EAAU,UAAU,IAAI,QAAQ,EAChCF,EAAe,UAAU,OAAO,QAAQ,CAC5C,CAAG,EACA,MAAMM,GAAK,CACVC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,eACf,CAAK,EACDN,EAAkB,UAAY,0EAC9BA,EAAkB,UAAU,OAAO,QAAQ,EAC3CC,EAAU,UAAU,IAAI,QAAQ,CACpC,CAAG,EAEHF,EAAe,iBAAiB,SAAUM,GAAK,CAC7CL,EAAkB,UAAY;AAAA;AAAA;AAAA,IAI9BA,EAAkB,UAAU,OAAO,QAAQ,EACtBH,EAAWQ,EAAE,OAAO,KAAK,EAG3C,KAAKF,GAAU,CACd,GAAIA,GAAU,CAAA,EACZ,MAAM,MAERH,EAAkB,UAAY;AAAA,wBACZG,EAAO,CAAC,EAAE,GAAG,qBAAqBA,EAAO,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI;AAAA;AAAA,4BAEtDA,EAAO,CAAC,EAAE,OAAO,CAAC,EAAE,IAAI;AAAA,iCACnBA,EAAO,CAAC,EAAE,OAAO,CAAC,EAAE,WAAW,MAChE,CAAK,EACA,MAAMI,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,mBACjB,CAAO,EACDN,EAAkB,UAAY,0EAC9BA,EAAkB,UAAU,OAAO,QAAQ,EAC3CC,EAAU,UAAU,IAAI,QAAQ,CACtC,CAAK,CACL,CAAC"}